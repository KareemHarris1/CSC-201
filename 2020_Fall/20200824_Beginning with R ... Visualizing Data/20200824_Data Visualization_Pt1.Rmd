---
title: "Data Visualization, Pt. 1"
author: "D. Howell"
date: "8/23/2020"
output: 
  html_document:
    theme: flatly
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

***

### You are here

![](\\Users\\drew.howell\\Desktop/CSC-201/2020_Fall/20200824_Beginning with R ... Visualizing Data/programGraphic_visualize.jpg)

***

### Packages

>"In R, the fundamental unit of shareable code is the package. A package bundles together code, data, documentation, and tests, and is easy to share with others. As of January 2015, there were over 6,000 packages available on the Comprehensive R Archive Network, or CRAN, the public clearing house for R packages. This huge variety of packages is one of the reasons that R is so successful: the chances are that someone has already solved a problem that youâ€™re working on, and you can benefit from their work by downloading their package."
- Hadley Wickham, "R Packages"

![](\\Users\\drew.howell\\Desktop/CSC-201/2020_Fall/20200824_Beginning with R ... Visualizing Data/JPEG_CraftsmanAnalogy.jpg)

So let's install our first package, the one we will be using for visualizations in R: ggplot2.
```{r}
# install.packages('ggplot2')
```

And now that it is installed, let's load all of its functions into our R session.
```{r}
library(ggplot2)
```

### Your first graph in R
```{r}
# visualize the first few rows of the mpg data set
head(mpg)

# now graph hwy against displ
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))

```

Cute! Take a photo and send it to your fam. 

### A graphing template

![](\\Users\\drew.howell\\Desktop/CSC-201/2020_Fall/20200824_Beginning with R ... Visualizing Data/graphingTemplate.jpg)

Here is a cheat sheet for some of the other popular geom functions you can use (read, "other popular types of charts you can make").

[ggplot2 Cheat Sheet](https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf)

### The NYT Coronavirus Data

Let's see if we can use this template to visualize some of the COVID data we worked with last week. 

First, we need to read the data into our R session. Don't worry about the mechanics of this yet - we'll get to it later.

```{r}
if (!require(readr)) install.packages('readr')
library(readr)

covidData <- read_csv('https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv')
```

Looks like it read in fine. Now let's filter out everything but Oklahoma.
```{r}
covidData_OK <- covidData[covidData$state == 'Oklahoma',]

ggplot(data = covidData_OK) + 
  geom_line(mapping = aes(x = date, y = cases))

```

There's some cleaning to be done here, but we'll learn how to do that later. 

Let's compare it to New York.
```{r}
covidData_NY <- covidData[covidData$state == 'New York',]

ggplot(data = covidData_NY) + 
  geom_line(mapping = aes(x = date, y = cases))
```

```{r}
covidData_yesterday <- covidData[covidData$date == as.character(Sys.Date()-1),]
ggplot(data = covidData_yesterday) + 
  geom_point(mapping = aes(x = cases, y = deaths))
```
There's a weird outlier way above 30k deaths. Curious what state that is. 
```{r}
covidData_yesterday[covidData_yesterday$deaths>30000,]
```
Wonder where OK is on the graph...
```{r}
covidData_yesterday[covidData_yesterday$state=='Oklahoma',]
```
So somewhere very close to the origin. Doesn't necessarily make us safer though, it is likely just because of our realatively small population. NYC has over twice as many people than OK... maybe their situation is worse in part due to the crazy population density there. 
